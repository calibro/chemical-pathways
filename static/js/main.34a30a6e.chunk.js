(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(47),c=a.n(n),r=a(76),o=a.n(r)()(c.a);t.b=c()({projectId:"i89zv88h",dataset:"projects",useCdn:!0})},16:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return e.map(function(e,t){return 0===t?"?selected=".concat(e.value):"&selected=".concat(e.value)}).join("")}},22:function(e,t,a){"use strict";var n=a(240),c=a(0),r=a.n(c);t.a=function(e){var t=e.fullheader,a=void 0===t||t;return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center bg-white",style:{position:"absolute",top:a?"80px":"40px",bottom:0,left:0,right:0,zIndex:999}},r.a.createElement(n.a,{type:"grow",color:"dark"}))}},236:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(13),c=a(17),r=a(25),o=a(24),l=a(26),i=a(0),s=a.n(i),u=a(9),m=a.n(u),d=a(247),f=a(248),h=a(245),p=a(249),v=Object(p.a)(function(e){var t=e.history;return s.a.createElement("div",{className:"landing-container"},s.a.createElement("div",{className:"landing-upper-container"},s.a.createElement("div",{className:"landing-upper-content"},s.a.createElement("div",{className:"landing-logo-container"},s.a.createElement("img",{src:"images/logo-white.svg",width:"350px"})),s.a.createElement("div",{className:"landing-text-container"},s.a.createElement("div",{className:"w-100 landing-text-container-upper"},"The everyday lives of contemporary youth are awash with chemicals to boost pleasure, moods, sexual performance, appearance and health. What do pills, drinks, sprays, powders and lotions do for youth? What effects are they seeking? How can we understand the ways chemicals affect young bodies and minds? ",s.a.createElement("br",null),s.a.createElement("br",null),"Instead of focusing on illegal drug use with the purpose of controlling it, we study the pervasive use of chemicals in everyday life \u2013 ethnographically, from the perspective of youth themselves."),s.a.createElement("div",{className:"landing-text-container-lower",style:{marginRight:"2%"}},"We draw on medical anthropology and studies of science, technology and contemporary youth culture to research the lived effects of chemicals. By \u2018lived effects\u2019, we mean the combination of chemicals\u2019 pharmaceutical properties, beliefs and expectations surrounding their use, and users\u2019 experimentation with various techniques. Our ethnographic fieldwork, based on participant observation and long-term immersion in the field, takes place in the Netherlands, France, Indonesia and the Philippines."),s.a.createElement("div",{className:"landing-text-container-lower",style:{marginLeft:"2%"}},"This website is dynamic, experimental and rich, like the methods used and insights produced during our innovative, tentacular project.",s.a.createElement("br",null),s.a.createElement("br",null),"The first phase of ChemicalYouth has ended, but our work continues and this website will keep growing. We have many publications in the oven, and numerous small and big projects are still in the works. It is likely that you will find something new every time you visit us.")),s.a.createElement("div",{className:"landing-link link",onClick:function(){t.push("/chemical")}},"EXPLORE THE PROJECT",s.a.createElement("span",null,s.a.createElement("img",{src:"images/arrow-right.svg",width:"20px"}))))),s.a.createElement("div",{className:"landing-lower"},s.a.createElement("div",{className:"landing-lower-container"},s.a.createElement("div",{className:"landing-lower-text"},"The ChemicalYouth project is based at the University of Amsterdam and received 5 years of funding from the European Research Council (2013-2018)."),s.a.createElement("div",null,s.a.createElement("img",{src:"images/aissr_logoblokjesite_GRAY.png",height:"80px"})),s.a.createElement("div",null,s.a.createElement("img",{src:"images/uvalogo_tag_p.png",height:"80px"})),s.a.createElement("div",null,s.a.createElement("img",{src:"images/LOGO_ERC.png",height:"80px"})),s.a.createElement("div",{className:"landing-lower-text"},"This website is designed and developed by Calibro. Project team: Lorem ipsum, dolor sit amet, other sui, lorem dolor, ather examples."),s.a.createElement("div",null,s.a.createElement("img",{src:"images/LOGO_ERC.png",height:"80px"})))))}),g=a(75),E=a.n(g),b=a(5),y=Object(p.a)(function(e){var t=e.history,a=e.expanded,n=void 0===a||a,c=Object(i.useContext)(b.a);Object(i.useEffect)(function(){var e=t.location.pathname.split("/");c.setSection(e[1])},[t.location.pathname]);var r=function(e){c.setSection(e),c.selected=[],t.push("/".concat(e))};return s.a.createElement("div",{className:"header ".concat(n?"":"small")},s.a.createElement("div",{className:"w-100 header-background"}),n&&s.a.createElement("div",{className:"header-content w-70 d-flex align-items-center justify-content-around"},s.a.createElement("div",null,s.a.createElement("div",{className:"cursor-pointer",onClick:function(){t.push("/")}},s.a.createElement("img",{src:"/images/logo-white.svg",width:60}))),s.a.createElement("div",null,s.a.createElement("div",{className:"header-el-not-link"},"View by:")),s.a.createElement("div",{onClick:function(){return r("chemical")}},s.a.createElement("div",{className:"header-el ".concat("chemical"===c.section?"underline":"none")},"CHEMICAL")),s.a.createElement("div",{onClick:function(){return r("topic")}},s.a.createElement("div",{className:"header-el ".concat("topic"===c.section?"underline":"none")},"TOPIC")),s.a.createElement("div",{onClick:function(){return r("location")}},s.a.createElement("div",{className:"header-el ".concat("location"===c.section?"underline":"none")},"LOCATION")),s.a.createElement("div",{onClick:function(){return r("researcher")}},s.a.createElement("div",{className:"header-el ".concat("researcher"===c.section?"underline":"none")},"RESEARCHER")),s.a.createElement("div",{onClick:function(){return r("time")}},s.a.createElement("div",{className:"header-el ".concat("time"===c.section?"underline":"none")},"TIME")),s.a.createElement("div",{onClick:function(){return r("method")}},s.a.createElement("div",{className:"header-el ".concat("method"===c.section?"underline":"none")},"METHOD"))))}),j=a(3),x=a(10),O=a(20),w=a(14),N=a(19),k=a(29),C=a.n(k),S=a(77),I=a.n(S),P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).matchStateToTerm=function(e,t){if(t.length>0)return a.props.objectKey?(console.log(-1!==e[a.props.objectKey].toLowerCase().indexOf(t.toLowerCase())),-1!==e[a.props.objectKey].toLowerCase().indexOf(t.toLowerCase())):-1!==e.name.toLowerCase().indexOf(t.toLowerCase())},a.state={value:""},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.type,c=t.selectionCallBack,r=t.objectKey,o=this.state.value;return s.a.createElement("div",{className:"autocomplete-container"},s.a.createElement("img",{src:"images/magnify.svg",width:20,className:"autocomplete-icon"}),s.a.createElement(I.a,{getItemValue:function(e){return r?e[r]:e.name},items:a,inputProps:{className:"autocomplete-input",placeholder:"Search ".concat(n)},wrapperStyle:{position:"relative"},menuStyle:{backgroundColor:"white",position:"absolute",zIndex:999,top:33,left:0,maxHeight:"500px",overflow:"auto"},open:!0,renderItem:function(t,a){return s.a.createElement("div",{key:t._id,style:{padding:"10px",borderBottom:"1px solid #d7d7d7",cursor:"pointer",opacity:e.context.selected.some(function(e){return e.value===t.name})?.5:1},className:"hover-el"},r?t[r]:t.name)},value:o,shouldItemRender:this.matchStateToTerm,onChange:function(t,a){return e.setState({value:a})},onSelect:function(t){c(n,t),e.setState({value:""})},isItemSelectable:function(t){return console.log(e.context.selected.some(function(e){return e.value===t.name})),!e.context.selected.some(function(e){return e.value===t.name})}}))}}]),t}(i.Component);P.contextType=b.a;var T=P,R=a(16),L=window.innerWidth/2-60,_=window.innerHeight-140,M=Object(w.a)().range([0,50]),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).setUpForceLayout=function(e){var t=Object(N.a)(e,function(e){return e.relatedProjects}),n=Object(j.a)(t,2),c=(n[0],n[1]);M.domain([0,c]);var r=e.filter(function(e){return e.relatedProjects>0}).sort(function(e,t){return t.relatedProjects-e.relatedProjects}).map(function(e){return e.radius=M(e.relatedProjects),e});r.map(function(e,t){if(t<r.length-1)return{source:t,target:t+1}}).slice(0,r.length-1),Object(O.f)(r).force("charge",Object(O.d)().strength(5)).force("center",Object(O.a)(L/2,_/2)).force("collision",Object(O.b)().radius(function(e){return e.radius+10}).strength(1).iterations(2)).on("tick",function(e){r.forEach(function(e){e.x=e.x<M(e.relatedProjects)?M(e.relatedProjects):e.x>L-M(e.relatedProjects)?L-M(e.relatedProjects):e.x,e.y=e.y<M(e.relatedProjects)?M(e.relatedProjects):e.y>_-M(e.relatedProjects)?_-M(e.relatedProjects):e.y}),a.setState({nodes:r})}).on("end",function(e){})},a.selectChemical=function(e,t){a.context.toggleSelected({type:e,value:t});var n=Object(R.a)(a.context.selected);a.props.history.push("/".concat(a.context.section).concat(n))},a.state={chemicals:[],nodes:[],activeState:null},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;0===this.state.chemicals.length&&x.b.fetch('*[_type=="chemical"]{\n  name,\n  "relatedProjects": count(*[_type==\'project\' && references(^._id)])\n}').then(function(t){e.setState({chemicals:t}),e.setUpForceLayout(t)}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.nodes,n=t.chemicals,c=t.activeIndex,r=this.context.selected?this.context.selected.map(function(e){return e.value}):[];return s.a.createElement("div",{className:"viz-container"},s.a.createElement(C.a,{place:"top",theme:"dark",effect:"solid",className:"tooltip-extra-class"}),s.a.createElement(T,{items:n,selectionCallBack:this.selectChemical,type:"chemical"}),s.a.createElement("div",{className:"w-100 h-100 d-flex flex-column"},s.a.createElement("svg",{width:L,height:_},a.map(function(t,a){M(t.relatedProjects);if(t.relatedProjects>0)return s.a.createElement("g",{key:a},s.a.createElement("circle",{"data-tip":M(t.relatedProjects)<=10?t.name.toUpperCase():"",ref:t.name,cx:t.x,cy:t.y,className:"circle ".concat(r.indexOf(t.name)>-1||c===a?"active":""),stroke:"black",strokeWidth:1,r:M(t.relatedProjects),onClick:function(){return e.selectChemical("chemical",t.name)},onMouseEnter:function(){e.setState({activeIndex:a}),C.a.show(Object(u.findDOMNode)(e.refs[t.name]))},onMouseLeave:function(){e.setState({activeIndex:null}),C.a.hide(Object(u.findDOMNode)(e.refs[t.name]))},style:{cursor:"pointer"}}),M(t.relatedProjects)>10&&s.a.createElement("g",null,s.a.createElement("rect",{x:t.x-5.2*t.name.length/2,y:t.y-5,width:5.2*t.name.length,height:10,className:"rect ".concat(r.indexOf(t.name)>-1||c===a?"active":"")}),s.a.createElement("text",{dx:t.x,dy:t.y,className:"text ".concat(r.indexOf(t.name)>-1||c===a?"active":""),textAnchor:"middle"},t.name)))}))))}}]),t}(i.Component),z=Object(p.a)(W);z.WrappedComponent.contextType=b.a;var F=z,A=a(22),U=Object(p.a)(function(e){var t=e.type,a=e.history,n=Object(i.useState)([]),c=Object(j.a)(n,2),r=c[0],o=c[1],l=Object(i.useState)(!0),u=Object(j.a)(l,2),m=u[0],d=u[1],f=Object(i.useState)(null),h=Object(j.a)(f,2),p=h[0],v=h[1],g=Object(i.useContext)(b.a);Object(i.useEffect)(function(){0===r.length&&x.b.fetch('*[_type=="topic"]{\n  _id, name,\n  "relatedProjects": count(*[_type==\'project\' && references(^._id)])\n}').then(function(e){return function(e){o(e),d(!1)}(e),function(){}}).catch(function(e){console.error(e)})},[t]);var E=function(e,t){g.toggleSelected({type:e,value:t});var n=Object(R.a)(g.selected);a.push("/".concat(g.section).concat(n))},y=g.selected?g.selected.map(function(e){return e.value}):[],O=Object(N.a)(r,function(e){return e.relatedProjects}),k=Object(j.a)(O,2),C=(k[0],k[1]),S=Object(w.a)().range([10,36]).domain([0,C]);return s.a.createElement("div",{className:"viz-container"},m&&s.a.createElement(A.a,null),s.a.createElement(T,{items:r,selectionCallBack:E,type:"topic"}),s.a.createElement("div",{className:"w-100 h-100 d-flex flex-wrap align-items-baseline mt-3 overflow-auto"},r.sort(function(e,t){return t.relatedProjects-e.relatedProjects}).map(function(e,t){return s.a.createElement("div",{className:"position-relative mr-3",key:t,style:{height:"45px"},onClick:function(){return E("topic",e.name)},onMouseEnter:function(){return v(t)},onMouseLeave:function(){return v(null)}},s.a.createElement("div",{className:"cursor-pointer",style:{fontSize:S?S(e.relatedProjects):"10px",bottom:"3px"}},e.name," ",s.a.createElement("sup",null,e.relatedProjects)),s.a.createElement("div",{className:"topic-block-line ".concat(y.indexOf(e.name)>-1||p===t?"active":"")}))})))}),D=a(28),B=window.innerWidth/2-60,H=window.innerHeight-140,Z=Object(w.a)().range([0,60]),G=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).setUpForceLayout=function(e,t){var n=Object(N.a)(e,function(e){return e.value}),c=Object(j.a)(n,2),r=(c[0],c[1]);Z.domain([0,r]);var o=e.filter(function(e){return e.value>0}).map(function(e){return e.radius=Z(e.value),e}),l=Object.values(Object(D.groupBy)(t)),i=[];l.map(function(t,a){var n=e.findIndex(function(e){return e.name===t[0][0]}),c=e.findIndex(function(e){return e.name===t[0][1]}),r=t.length;i.push({source:n,target:c,weight:r})}),a.setState({links:i});Object(O.f)(o).force("charge",Object(O.d)().strength(-10)).force("link",Object(O.c)(i).strength(function(e){return e.weight}).distance(function(e){return 3*e.weight})).force("r",Object(O.e)(120)).force("center",Object(O.a)(B/2,H/2)).force("collision",Object(O.b)().radius(function(e){return e.radius+15}).strength(1).iterations(5)).on("tick",function(e){o.forEach(function(e){e.x=e.x<Z(e.value)?Z(e.value)+5:e.x>B-Z(e.value)?B-Z(e.value)-5:e.x,e.y=e.y<Z(e.value)?Z(e.value)+5:e.y>H-Z(e.value)?H-Z(e.value)-5:e.y}),a.setState({nodes:o})})},a.selectResearcher=function(e,t){a.context.toggleSelected({type:e,value:t});var n=Object(R.a)(a.context.selected);a.props.history.push("/".concat(a.context.section).concat(n))},a.state={researchers:[],nodes:[],links:[],activeIndex:null},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;0===this.state.researchers.length&&x.b.fetch('*[_type == "project"]{\n  "researchers": researchers[]->\n}').then(function(t){var a=Object(D.flatten)(t.map(function(e){return e.researchers.map(function(e){return e.name})})).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),n=Object.entries(a).map(function(e){return{name:e[0],value:e[1]}}),c=t.map(function(e){return e.researchers.map(function(e){return e.name})}),r=[];c.map(function(e,t){for(var a=e.length,n=0;n<a;n++){var c=e[0],o=e;if(o.splice(0,1),o.length>0)for(var l=0;l<o.length;l++){var i=[c,o[l]].sort();r.push(i)}}}),console.log(r),e.setState({researchers:n}),e.setUpForceLayout(n,r)}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.nodes,n=t.links,c=t.researchers,r=t.activeIndex,o=this.context.selected?this.context.selected.map(function(e){return e.value}):[];return s.a.createElement("div",{className:"viz-container"},s.a.createElement(C.a,{place:"top",theme:"dark",effect:"solid",className:"tooltip-extra-class"}),s.a.createElement(T,{items:c,selectionCallBack:this.selectResearcher,type:"researcher"}),s.a.createElement("div",{className:"w-100 h-100 d-flex flex-column mt-4"},s.a.createElement("svg",{width:B,height:H},n.map(function(e,t){return s.a.createElement("g",{key:t},s.a.createElement("line",{x1:e.source.x,y1:e.source.y,x2:e.target.x,y2:e.target.y,style:{strokeWidth:e.weight},stroke:"black"}))}),a.map(function(t,a){Z(t.value);if(t.value>0)return s.a.createElement("g",{key:a},s.a.createElement("circle",{"data-tip":Z(t.value)<=10?t.name.toUpperCase():"",ref:t.name,cx:t.x,cy:t.y,className:"circle ".concat(o.indexOf(t.name)>-1||r===a?"active":""),stroke:"black",strokeWidth:1,r:Z(t.value),onClick:function(){return e.selectResearcher("researcher",t.name)},onMouseEnter:function(){e.setState({activeIndex:a}),C.a.show(Object(u.findDOMNode)(e.refs[t.name]))},onMouseLeave:function(){e.setState({activeIndex:null}),C.a.hide(Object(u.findDOMNode)(e.refs[t.name]))}}),Z(t.value)>10&&s.a.createElement("g",null,s.a.createElement("rect",{x:t.x-5.2*t.name.length/2,y:t.y-4,width:5.2*t.name.length,height:10,className:"rect ".concat(o.indexOf(t.name)>-1||r===a?"active":"")}),s.a.createElement("text",{dx:t.x,dy:t.y,className:"text ".concat(o.indexOf(t.name)>-1||r===a?"active":""),textAnchor:"middle"},t.name)))}))))}}]),t}(i.Component),K=Object(p.a)(G);K.WrappedComponent.contextType=b.a;var Q=K,V=a(48),Y=function(e){var t=e.coordinates,a=e.zoom,n=e.country,c=e.city,r=e.callbackClick,o=e.selected;return s.a.createElement("div",{className:"location-block ".concat(o.indexOf(c)>-1?"active":""),style:{backgroundImage:"url(https://api.mapbox.com/styles/v1/gabrielecolombo/cjsnc1pt701yf1fmoasvam9wv/static/".concat(t.lng,",").concat(t.lat,",").concat(a,",0,0/600x600?access_token=pk.eyJ1IjoiZ2FicmllbGVjb2xvbWJvIiwiYSI6ImNpdGZqNWY1MjAwZWUyeW1qbDhkZHV2OXMifQ.Nem-UVIW-71T6yQQvjrtog)")},onClick:function(){return r("location",c)}},s.a.createElement("div",{className:"location-country"},n),s.a.createElement("div",{className:"location-city"},c))},J={},q=Object(V.ScrollToHOC)(Object(p.a)(function(e){var t=e.type,a=e.history,n=e.scrollTo,c=Object(i.useState)([]),r=Object(j.a)(c,2),o=r[0],l=r[1],u=Object(i.useState)(!0),m=Object(j.a)(u,2),d=m[0],f=m[1],h=Object(i.useContext)(b.a);Object(i.useEffect)(function(){0===o.length&&x.b.fetch('*[_type == "location"]{\n  _id, city, coordinates, zoom,\n  country->,\n  "relatedProjects": count(*[_type==\'project\' && references(^._id)])\n}').then(function(e){return p(e),function(){}}).catch(function(e){console.error(e)})},[t]);var p=function(e){l(e),e.filter(function(e){return e.coordinates.lat}).forEach(function(e,t){J[e.city.toLowerCase()]=g(t)}),console.log(J),f(!1)},v=function(e,t){h.toggleSelected({type:e,value:t});var c=Object(R.a)(h.selected);a.push("/".concat(h.section).concat(c)),console.log(J[t]),n({id:"locations",y:J[t]})},g=function(e){var t=window.innerWidth/100*16;return Math.floor(e/3)*t};return s.a.createElement("div",{className:"viz-container"},d&&s.a.createElement(A.a,null),s.a.createElement(T,{items:o,selectionCallBack:v,type:"location",objectKey:"city"}),s.a.createElement(V.ScrollArea,{id:"locations",className:"overflow-auto"},s.a.createElement("div",{className:"w-100 d-flex flex-wrap mt-4"},o.map(function(e,t){if(e.coordinates.lat)return s.a.createElement(Y,{key:t,coordinates:e.coordinates,y:function(){return g(t)},zoom:e.zoom,country:e.country.name,city:e.city,callbackClick:v,selected:h.selected?h.selected.map(function(e){return e.value}):[]})}))))})),X=Object(p.a)(function(e){var t=e.type,a=e.history,n=Object(i.useState)([]),c=Object(j.a)(n,2),r=c[0],o=c[1],l=Object(i.useContext)(b.a);Object(i.useEffect)(function(){0===r.length&&x.b.fetch('*[_type == "methodology"]{\n  _id, name,\n  "relatedProjects": count(*[_type==\'project\' && references(^._id)])\n}').then(function(e){return u(e),function(){}}).catch(function(e){console.error(e)})},[t]);var u=function(e){o(e)},m=function(e,t){l.toggleSelected({type:e,value:t});var n=Object(R.a)(l.selected);a.push("/".concat(l.section).concat(n))},d=Object(N.a)(r,function(e){return e.relatedProjects}),f=Object(j.a)(d,2),h=(f[0],f[1]),p=Object(w.a)().range([30,150]).domain([0,h]);return s.a.createElement("div",{className:"viz-container"},s.a.createElement(T,{items:r,selectionCallBack:m,type:"method"}),s.a.createElement("div",{className:"w-100 h-100 overflow-auto"},r.sort(function(e,t){return t.relatedProjects-e.relatedProjects}).map(function(e,t){var a=l.selected.map(function(e){return e.value});return s.a.createElement("div",{className:"px-3 method-block ".concat(a.indexOf(e.name)>-1?"active":""),key:t,style:{height:"".concat(p(e.relatedProjects),"px")},onClick:function(){return m("method",e.name)}},e.relatedProjects," ",e.name)})))}),$=a(45),ee=Object(p.a)(function(e){var t=e.type,a=e.history,n=Object(i.useState)([]),c=Object(j.a)(n,2),r=c[0],o=c[1],l=Object(i.useState)([]),u=Object(j.a)(l,2),m=(u[0],u[1]),d=Object(i.useContext)(b.a);Object(i.useEffect)(function(){0===r.length&&x.b.fetch('*[_type == "project"]{\n  endDate, startDate\n}').then(function(e){return f(e),function(){}}).catch(function(e){console.error(e)})},[t]);var f=function(e){var t=e.map(function(e,t){var a=function(e,t){var a;return a=12*(t.getFullYear()-e.getFullYear()),a-=e.getMonth()+1,(a+=t.getMonth())<=0?0:a}(new Date(e.startDate),new Date(e.endDate));return e.months=Object($.a)(a),e});m(t);var a=t.sort(function(e,t){return e.months-t.months}),n=Object.values(Object(D.groupBy)(a,function(e){return e.months}));o(n.reverse())},h=d.selected.map(function(e){return e.value}),p=Object(N.a)(r,function(e){return e.length}),v=Object(j.a)(p,2),g=(v[0],v[1]),E=Object(w.a)().range([30,200]).domain([0,g]),y=Object(w.b)().range([50,60,70,80,90,100]).domain([0,3,6,12,24,36]);return s.a.createElement("div",{className:"viz-container"},s.a.createElement("div",{className:"w-100 mt-3 overflow-auto"},r.map(function(e,t){var n=e[0].months;return s.a.createElement("div",{className:"px-3 time-block ".concat(h.indexOf(n)>-1?"active":""),key:t,style:{width:"".concat(y(n),"%"),height:"".concat(E(e.length),"px"),borderTop:0===t?"1px solid #d7d7d7":"none"},onClick:function(){return function(e,t){d.toggleSelected({type:e,value:t});var n=Object(R.a)(d.selected);a.push("/".concat(d.section).concat(n))}("time",n)}},s.a.createElement("div",null,"".concat(e.length," projects")),s.a.createElement("div",null,"".concat($.b[n])))})))}),te=s.a.lazy(function(){return a.e(3).then(a.bind(null,250))}),ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).setSelectedLocation=function(e){a.setState({selectedLocation:e===a.state.selectedLocation?"":e})},a.setSelectedTopic=function(e){a.setState({selectedTopic:e===a.state.selectedTopic?"":e})},a.setSelectedChemical=function(e){a.setState({selectedChemical:e===a.state.selectedChemical?"":e})},a.setSection=function(e){a.setState({section:e})},a.setSelected=function(e){console.log(e),a.setState({selected:e})},a.toggleSelected=function(e){var t=a.state.selected;if(e.type&&null!==e.value){if(Object(D.find)(t,e)){var n=Object(D.findIndex)(t,e);t.splice(n,1)}else t.push(e);a.setState({selected:t})}},a.state={section:"chemical",setSection:a.setSection,selectedChemical:"",setSelectedChemical:a.setSelectedChemical,selectedLocation:"",setSelectedLocation:a.setSelectedLocation,selectedTopic:"",setSelectedTopic:a.setSelectedTopic,selected:[],setSelected:a.setSelected,toggleSelected:a.toggleSelected},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.pathname.split("/");this.setSection(t[1]);var a=E.a.parse(this.props.location.search);if(a.selected&&Array.isArray(a.selected))a.selected.forEach(function(a){var n={type:t[1],value:a};e.toggleSelected(n)});else if(a.selected&&!Array.isArray(a.selected)){var n={type:t[1],value:a.selected};this.toggleSelected(n)}}},{key:"render",value:function(){var e=this.props.location.pathname.split("/")[1];return s.a.createElement(b.a.Provider,{value:this.state},s.a.createElement(s.a.Suspense,{fallback:s.a.createElement(A.a,null)},s.a.createElement("div",{className:"w-100 h-100 d-flex flex-column"},s.a.createElement(y,null),s.a.createElement("div",{className:"w-100 d-flex bg-white",style:{height:"calc(100% - 70px)"}},s.a.createElement("div",{className:"half-container"},"chemical"===e&&s.a.createElement(F,null),"topic"===e&&s.a.createElement(U,null),"location"===e&&s.a.createElement(q,null),"researcher"===e&&s.a.createElement(Q,null),"time"===e&&s.a.createElement(ee,null),"method"===e&&s.a.createElement(X,null)),s.a.createElement("div",{className:"half-container"},s.a.createElement(te,null))))))}}]),t}(i.Component);ae.contextType=b.a;var ne=ae,ce=a(34),re=a.n(ce),oe=a(246),le=a(241),ie=a(242),se=a(243),ue=a(244),me=Object(p.a)(function(e){var t=e.type,a=e.elements,n=e.objectKey,c=e.history,r=Object(i.useContext)(b.a);return s.a.createElement("div",{className:"d-flex flex-wrap"},a?a.map(function(e,o){if(e){var l=n?e[n]:e.name;return s.a.createElement(s.a.Fragment,{key:o},s.a.createElement("div",{className:"mr-1 link list-el"},s.a.createElement("div",{onClick:function(){return function(e,t){r.setSelected({type:e,value:t}),c.push("/".concat(e,"?selected=").concat(t))}(t,l)}},l)),s.a.createElement("span",{className:"mr-1 list-el"},o<a.length-1?"|":""))}}):s.a.createElement("div",null,"Not found"))}),de=function(e){var t=e.project;return s.a.createElement("div",{className:"w-30 mt-5 d-flex flex-column",style:{paddingLeft:"80px"}},s.a.createElement("div",{className:"d-flex flex-column my-4"},s.a.createElement("div",{className:"list-title"},"LOCATIONS"),s.a.createElement(me,{type:"location",elements:t.places,objectKey:"city"})),s.a.createElement("div",{className:"d-flex flex-column my-4"},s.a.createElement("div",{className:"list-title"},"CHEMICALS"),s.a.createElement(me,{type:"chemical",elements:t.chemicals})),s.a.createElement("div",{className:"d-flex flex-column my-4"},s.a.createElement("div",{className:"list-title"},"METHODS"),s.a.createElement(me,{type:"method",elements:t.methods})),s.a.createElement("div",{className:"d-flex flex-column my-4"},s.a.createElement("div",{className:"list-title"},"TOPICS"),s.a.createElement("div",{className:"d-flex flex-wrap"},s.a.createElement(me,{type:"topic",elements:t.topics}))))},fe=function(e){var t=e.url.split("/")[3];return s.a.createElement("div",{className:"w-100",style:{paddingLeft:"80px"}},s.a.createElement("iframe",{title:"project-video",src:"https://player.vimeo.com/video/".concat(t),width:"640",height:"360",frameBorder:"0",allowFullScreen:!0}))},he=a(79),pe=a(41),ve=a(81),ge=a.n(ve),Ee=a(82),be=a.n(Ee),ye=a(46),je=Object(w.a)().range([0,30]),xe=function(e){Object(he.a)(e);var t=Object(i.useState)([]),a=Object(j.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(!0),o=Object(j.a)(r,2),l=(o[0],o[1]),u=Object(i.useState)(null),m=Object(j.a)(u,2),d=m[0],f=m[1],h=Object(i.useState)(0),p=Object(j.a)(h,2),v=p[0],g=p[1],E=Object(i.useState)(13),y=Object(j.a)(E,2),O=y[0],w=(y[1],Object(i.useContext)(b.a));Object(i.useEffect)(function(){x.b.fetch('*[_type == "specialProject1"]{\n  _id, name, coordinates, stringCoordinates, streetviewUrl,\n  "images": images[].asset->url,\n}').then(function(e){return C(e),function(){}}).catch(function(e){console.error(e)})},[w]);var k=Object(pe.c)({accessToken:"pk.eyJ1IjoiZ2FicmllbGVjb2xvbWJvIiwiYSI6ImNpdGZqNWY1MjAwZWUyeW1qbDhkZHV2OXMifQ.Nem-UVIW-71T6yQQvjrtog"}),C=function(e){c(e),console.log(e);var t=Object(N.a)(e,function(e){return e.images.length}),a=Object(j.a)(t,2),n=(a[0],a[1]);je.domain([0,n]),l(!1);var r=e.map(function(e){return[e.coordinates.lng,e.coordinates.lat]}),o=Object(ye.lineString)(r),i=be()(o);console.log(i),f(i)},S=function(e,t){return{"circle-radius":je(e.images.length),"circle-color":t===v?"#000000":"#FFFFFF","circle-stroke-color":"#000000","circle-stroke-width":2,"circle-opacity":1}};n&&n[v]&&console.log(n[v].coordinates.lat,n[v].coordinates.lng);var I=null;return s.a.createElement("div",{className:"w-100 h-100 d-flex mt-5",style:{height:"600px"}},s.a.createElement("div",{className:"w-40 bg-white overflow-auto d-flex flex-column align-items-center",style:{height:"600px"}},s.a.createElement("div",{className:"m-3 w-100"},s.a.createElement("div",{style:{width:"100%",height:"300px",backgroundColor:"#eeeeee"}},n&&n[v]&&s.a.createElement(ge.a,{apiKey:"AIzaSyDQsgQX8xc6_AiLmbwhZrdpELQJC8rlrII",streetViewPanoramaOptions:{position:{lat:46.9171876,lng:17.8951832},pov:{heading:0,pitch:100},zoom:1,motionTracking:!1,motionTrackingControl:!1,linksControl:!1,panControl:!1,zoomControl:!1,addressControl:!1,fullscreenControl:!1,enableCloseButton:!1,disableDefaultUI:!0,showRoadLabels:!1,clickToGo:!1,scrollwheel:!1}}))),s.a.createElement("div",{className:"m-3 text-left w-80 project-page-special-title"},n&&n[v]?n[v].name:""),s.a.createElement("div",{className:"m-3 text-left w-80"},n&&n[v]?n[v].stringCoordinates:""),s.a.createElement("div",{className:"project-page-section-title text-left w-80"},"PICTURES TAKEN"),n&&n[v]&&n[v].images.map(function(e,t){return s.a.createElement("img",{key:t,className:"my-1 w-80",src:"".concat(e)})})),s.a.createElement("div",{className:"w-60"},s.a.createElement(k,{ref:function(e){return I=e},style:"mapbox://styles/gabrielecolombo/cjsnc1pt701yf1fmoasvam9wv",containerStyle:{height:"600px",width:"100%"},onZoomEnd:function(e){console.log(I)},zoom:[O],fitBounds:d?[[d[0],d[1]],[d[2],d[3]]]:[[0,0],[0,0]],center:[n&&n[v]?n[v].coordinates.lng:-.2416815,n&&n[v]?n[v].coordinates.lat:51.5285582]},n.map(function(e,t){return s.a.createElement(pe.b,{type:"circle",paint:S(e,t),onClick:function(){return g(t)}},s.a.createElement(pe.a,{coordinates:[e.coordinates.lng,e.coordinates.lat]}))}))))},Oe=a(83),we=a.n(Oe),Ne=function(e){var t=e.images,a=Object(i.useState)(0),n=Object(j.a)(a,2),c=n[0],r=n[1],o={dots:!1,infinite:!0,centerMode:!0,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,variableWidth:!0,arrows:!1,afterChange:function(e){return r(e)}},l=null;return s.a.createElement("div",{className:"w-100 mb-5",style:{paddingLeft:"80px"}},s.a.createElement("div",{className:"slider"},s.a.createElement(we.a,Object.assign({ref:function(e){return l=e}},o),t.map(function(e,t){return s.a.createElement("div",{className:"",key:t},s.a.createElement("img",{src:"".concat(e,"?h=600"),key:t,className:"slider-image"}))}))),s.a.createElement("div",{className:"slider-arrows"},s.a.createElement("img",{alt:"previous image",src:"/images/arrow-left.svg",width:20,className:"cursor-pointer",onClick:function(){return l.slickPrev()}}),s.a.createElement("div",null,c+1," / ",t.length),s.a.createElement("img",{alt:"next image",src:"/images/arrow-right.svg",width:20,className:"cursor-pointer",onClick:function(){return l.slickNext()}})))},ke={types:{code:function(e){return s.a.createElement("pre",{"data-language":e.node.language},s.a.createElement("code",null,e.node.code))}}},Ce=Object(p.a)(function(e){var t=e.history,a=e.location,n=Object(i.useState)([]),c=Object(j.a)(n,2),r=c[0],o=c[1],l=Object(i.useState)(!1),u=Object(j.a)(l,2),m=u[0],d=u[1],f=Object(i.useState)(!0),h=Object(j.a)(f,2),p=h[0],v=h[1],g=Object(i.useContext)(b.a),E=a.pathname.split("/")[2];Object(i.useEffect)(function(){var e='*[_type == "project" && slug.current == "'.concat(E,'"]{\n      _id, title, body, slug, videoUrl,\n      "mainImage": mainImage.asset->url,\n      "topics": topics[]->,\n      "chemicals": chemicals[]->,\n      "methods": methodologies[]->,\n      "places": place[]->,\n      "countries": place[]->country[]->,\n      "researchers": researchers[]->,\n      "internalResources": internalResources,\n      "internalResourcesCategories": internalResources[].category->,\n      "internalResourcesFiles": internalResources[].document.asset->,\n      "externalResources": externalResources,\n      "externalResourcesCategories": externalResources[].category->,\n      "images": images[].asset->url,\n    }');x.b.fetch(e).then(function(e){return console.log(e),O(e),function(){}}).catch(function(e){console.error(e)})},[E]);var O=function(e){o(e[0]),v(!1)};return s.a.createElement("div",{className:"w-100 d-flex flex-column position-relative justify-content-center"},s.a.createElement(y,{expanded:!1}),s.a.createElement("div",{className:"w-100 d-flex flex-wrap container"},p&&s.a.createElement(A.a,{fullheader:!1}),s.a.createElement("div",{className:"close-icon link",onClick:function(){t.goBack()}},"Back to home",s.a.createElement("span",null,s.a.createElement("img",{src:"/images/arrow-right.svg",width:"20px"}))),s.a.createElement("div",{className:"w-70",style:{paddingLeft:"80px"}},s.a.createElement("div",{className:"w-100 py-3"},s.a.createElement("div",{className:"project-page-title"}," ",r.title," "),s.a.createElement("div",{className:"d-flex flex-wrap"},r.researchers&&r.researchers.map(function(e,a){return s.a.createElement(s.a.Fragment,{key:a},s.a.createElement("div",{className:"project-page-researcher link py-1 ".concat(0===a?"mr-2":"mx-2"),onClick:function(){return a="researcher",n=e.name,g.setSelected({type:a,value:n}),void t.push("/".concat(a,"?selected=").concat(n));var a,n}},e.name),s.a.createElement("span",null,a<r.researchers.length-1?"|":""))})),r.mainImage&&s.a.createElement("div",{className:"mt-4"},s.a.createElement("img",{src:"".concat(r.mainImage,"?w=1000&fit=max"),width:"100%"})),s.a.createElement("div",{className:"py-4 project-page-body"},r.body&&r.body[0]&&s.a.createElement(re.a,{blocks:r.body,serializers:ke}))),(r.internalResources&&r.internalResources.length||r.externalResources&&r.externalResources.length)&&s.a.createElement("div",{className:"w-100 mb-5"},s.a.createElement("div",{className:"project-page-section-title"}," RESOURCES "),s.a.createElement("div",{className:"w-100"},r.internalResources&&r.internalResources.map(function(e,t){if(r.internalResourcesFiles[t])return s.a.createElement("div",{key:t,className:"project-page-resource"},e.private?s.a.createElement("div",{onClick:function(){return d(!0)},className:"cursor-pointer"},s.a.createElement("span",{className:"resource-category"},"[",r.internalResourcesCategories[t].name,"]"),s.a.createElement(re.a,{blocks:e.name,serializers:ke,className:"resource-container",renderContainerOnSingleChild:!0})):s.a.createElement("a",{href:r.internalResourcesFiles[t].url,download:!0},s.a.createElement("span",{className:"resource-category"},"[",r.internalResourcesCategories[t].name,"]"),s.a.createElement(re.a,{blocks:e.name,serializers:ke,className:"resource-container",renderContainerOnSingleChild:!0})))}),r.externalResources&&r.externalResources.map(function(e,t){if(e.linkUrl)return s.a.createElement("div",{key:t,className:"project-page-resource"},s.a.createElement("span",{className:"resource-category"},"[",r.externalResourcesCategories[t].name,"]"),s.a.createElement("a",{href:e.linkUrl,target:"_blank",download:!0},s.a.createElement(re.a,{blocks:e.name,serializers:ke,className:"resource-container",renderContainerOnSingleChild:!0})))})))),s.a.createElement(de,{project:r}),r.images&&s.a.createElement("div",{className:"project-page-section-title",style:{paddingLeft:"80px"}},"IMAGES"),r.images&&s.a.createElement(Ne,{images:r.images}),r.videoUrl&&s.a.createElement(fe,{url:r.videoUrl})),s.a.createElement(oe.a,{isOpen:m,toggle:function(){return d(!m)},className:""},s.a.createElement(le.a,{toggle:function(){return d(!m)}},"This document is private"),s.a.createElement(ie.a,null,"If you want to read this document, send us a message at"," ",s.a.createElement("a",{href:"mailto:info@info.com"},"info@info.com")),s.a.createElement(se.a,null,s.a.createElement(ue.a,{color:"secondary",onClick:function(){return d(!m)}},"Close"))),r.slug&&"mapping-chemicals-in-cagayan-de-oro"===r.slug.current&&s.a.createElement(xe,null))});a(235),a(236),a(237),a(238),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement("div",{className:"w-100 h-100"},s.a.createElement(f.a,null,s.a.createElement(h.a,{exact:!0,path:"/",component:v}),s.a.createElement(h.a,{exact:!0,path:"/:type(chemical|topic|location|researcher|time|method)?/:selection",component:ne}),s.a.createElement(h.a,{exact:!0,path:"/projects/:slug",component:Ce}))))}}]),t}(s.a.Component);m.a.render(s.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return c});var n={0:"3 months",3:"6 months",6:"1 year",12:"2 years",24:"3 years",36:"more than 3 years"},c=function(e){return e<3?0:e>=3&&e<6?3:e>=6&&e<12?6:e>=12&&e<24?12:e>=24&&e<36?24:e>=36?36:void 0}},5:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(0),c=a.n(n).a.createContext({section:"",setSection:function(){},selectedChemical:"",setSelectedChemical:function(){},selectedLocation:"",setSelectedLocation:function(){},selectedTopic:"",setSelectedTopic:function(){},selected:[],setSelected:function(){},toggleSelected:function(){}})},85:function(e,t,a){e.exports=a(239)}},[[85,1,2]]]);
//# sourceMappingURL=main.34a30a6e.chunk.js.map